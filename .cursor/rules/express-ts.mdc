---
alwaysApply: true
---

# Applies to: server/\*_/_.{ts}

## âœ… Project Structure

- All source code must reside under the `src/` directory.
- Use modular folders: `routes/`, `controllers/`, `services/`, `models/`, `middlewares/`, `utils/`, `types/`, `config/`.

## ğŸ”§ TypeScript

- Always use TypeScript with `"strict": true` mode.
- Do not use `any`; prefer `unknown` with proper type refinement.
- Type all function inputs and outputs explicitly.
- Store global types in `src/types/`.

## ğŸŒ API Design

- Use `routes/` for defining RESTful routes via `express.Router()`.
- Delegate route logic to `controllers/`, not inline inside the route.
- Keep business logic inside `services/`.
- Validate request bodies using `zod` or `joi`.

## ğŸ“¦ Packages

Required:

- express
- cors
- dotenv
- axios
- typescript
- ts-node-dev

Optional (but recommended):

- zod or joi
- helmet
- express-rate-limit
- express-async-handler

## ğŸ§ª Testing

- Use `jest` or `vitest` for testing services and controllers.
- Use `supertest` for integration testing routes.

## ğŸ“ Folder Responsibilities

- `routes/` â€“ REST route definitions only
- `controllers/` â€“ Parse request/response and delegate
- `services/` â€“ Business logic, reusable by multiple controllers
- `middlewares/` â€“ Error handling, auth, CORS, etc.
- `models/` â€“ ORM schemas or data layer logic
- `utils/` â€“ Reusable utility functions
- `config/` â€“ DB connection, env config
- `types/` â€“ Global type declarations

## ğŸš€ Scripts

- `"dev"` â€“ Use `ts-node-dev` for local development
- `"build"` â€“ Compiles TS to JS
- `"start"` â€“ Runs compiled server

## ğŸ” Security

- Use Helmet for HTTP headers
- Add CORS for domain control
- Sanitize all inputs
- Use `.env` for sensitive keys

# ğŸ¯ Cursor Rules for Express + TypeScript Best Practices

## âœ… Project Structure

- All source code must reside under the `src/` directory.
- Use modular folders: `routes/`, `controllers/`, `services/`, `models/`, `middlewares/`, `utils/`, `types/`, `config/`.

## ğŸ”§ TypeScript

- Always use TypeScript with `"strict": true` mode.
- Do not use `any`; prefer `unknown` with proper type refinement.
- Type all function inputs and outputs explicitly.
- Store global types in `src/types/`.

## ğŸŒ API Design

- Use `routes/` for defining RESTful routes via `express.Router()`.
- Delegate route logic to `controllers/`, not inline inside the route.
- Keep business logic inside `services/`.
- Validate request bodies using `zod` or `joi`.

## ğŸ“¦ Packages

Required:

- express
- cors
- dotenv
- axios
- typescript
- ts-node-dev

Optional (but recommended):

- zod or joi
- helmet
- express-rate-limit
- express-async-handler

## ğŸ§ª Testing

- Use `jest` or `vitest` for testing services and controllers.
- Use `supertest` for integration testing routes.

## ğŸ“ Folder Responsibilities

- `routes/` â€“ REST route definitions only
- `controllers/` â€“ Parse request/response and delegate
- `services/` â€“ Business logic, reusable by multiple controllers
- `middlewares/` â€“ Error handling, auth, CORS, etc.
- `models/` â€“ ORM schemas or data layer logic
- `utils/` â€“ Reusable utility functions
- `config/` â€“ DB connection, env config
- `types/` â€“ Global type declarations

## ğŸš€ Scripts

- `"dev"` â€“ Use `ts-node-dev` for local development
- `"build"` â€“ Compiles TS to JS
- `"start"` â€“ Runs compiled server

## ğŸ” Security

- Use Helmet for HTTP headers
- Add CORS for domain control
- Sanitize all inputs
- Use `.env` for sensitive keys
